# ğŸš€ Integrated Agent System

à¸£à¸°à¸šà¸šà¸šà¸¹à¸£à¸“à¸²à¸à¸²à¸£ **Google GenAI Toolbox** à¹à¸¥à¸° **Perplexity AI Toolkit** à¹€à¸‚à¹‰à¸²à¸à¸±à¸š **Multi-Agent Orchestration** à¸—à¸µà¹ˆà¸¡à¸µ â‰¥6 à¹‚à¸«à¸™à¸” à¹à¸¥à¸°à¸‹à¸±à¸šà¸‹à¹‰à¸­à¸™à¹€à¸—à¸µà¸¢à¸šà¹€à¸—à¹ˆà¸²à¸«à¸£à¸·à¸­à¸¡à¸²à¸à¸à¸§à¹ˆà¸²à¸ à¸²à¸à¸—à¸µà¹ˆà¸­à¸±à¸›à¹‚à¸«à¸¥à¸”

## ğŸ“‹ à¸ªà¸£à¸¸à¸›à¸„à¸§à¸²à¸¡à¸ªà¸²à¸¡à¸²à¸£à¸–

### ğŸ”§ Google GenAI Toolbox Integration
- **Database Tools**: à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¹ˆà¸²à¸™ MCP
- **SQL Execution**: à¸£à¸±à¸™à¸„à¸³à¸ªà¸±à¹ˆà¸‡ SQL à¹à¸šà¸šà¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- **Data Analysis**: à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸”à¹‰à¸§à¸¢ AI
- **Schema Management**: à¸ˆà¸±à¸”à¸à¸²à¸£à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

### ğŸ¤– Perplexity AI Toolkit Integration
- **Real-time Search**: à¸„à¹‰à¸™à¸«à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸š real-time
- **Sonar Models**: à¹ƒà¸Šà¹‰ LLama-3.1 based models
- **Chat Completion**: à¸ªà¸™à¸—à¸™à¸²à¸à¸±à¸š AI à¹à¸šà¸šà¹‚à¸•à¹‰à¸•à¸­à¸š
- **Web Search**: à¸„à¹‰à¸™à¸«à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸à¹€à¸§à¹‡à¸š

### ğŸ¯ Multi-Agent Orchestration
- **â‰¥6 Nodes**: à¸£à¸°à¸šà¸šà¸—à¸µà¹ˆà¸¡à¸µà¹‚à¸«à¸™à¸”à¸„à¸£à¸šà¸–à¹‰à¸§à¸™
- **Tool Registry**: à¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¹à¸šà¸šà¸£à¸§à¸¡à¸¨à¸¹à¸™à¸¢à¹Œ
- **Workflow Management**: à¸ˆà¸±à¸”à¸à¸²à¸£ workflow à¹à¸šà¸šà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **Memory Buffer**: à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸à¸²à¸£à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥

## ğŸ—ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸£à¸°à¸šà¸š

```
Integrated Agent System
â”œâ”€â”€ ğŸ¯ Core Orchestrator
â”‚   â”œâ”€â”€ Agent Management
â”‚   â”œâ”€â”€ Tool Registry
â”‚   â””â”€â”€ Workflow Engine
â”œâ”€â”€ ğŸ”§ Tool Integration
â”‚   â”œâ”€â”€ GenAI Toolbox Client
â”‚   â”œâ”€â”€ Perplexity AI Client
â”‚   â””â”€â”€ Custom Tools
â”œâ”€â”€ ğŸ¤– Agent Types
â”‚   â”œâ”€â”€ Tools Agent
â”‚   â”œâ”€â”€ Analysis Agent
â”‚   â”œâ”€â”€ Reasoning Agent
â”‚   â””â”€â”€ Creative Agent
â””â”€â”€ ğŸ“Š Monitoring & Analytics
    â”œâ”€â”€ System Status
    â”œâ”€â”€ Performance Metrics
    â””â”€â”€ Workflow History
```

## ğŸš€ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡

### 1. Prerequisites
```bash
# Python 3.11+
python --version

# Git
git --version

# Docker (optional)
docker --version
```

### 2. Clone à¹à¸¥à¸° Setup
```bash
# Clone à¹‚à¸›à¸£à¹€à¸ˆà¸„
git clone <repository-url>
cd project

# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies
pip install -r requirements_integrated.txt

# à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² environment variables
cp example.env .env
# à¹à¸à¹‰à¹„à¸‚ .env file à¸•à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£
```

### 3. API Keys Setup
```bash
# Perplexity AI API Key
export PERPLEXITY_API_KEY="your-perplexity-api-key"

# Google Cloud API Key (optional)
export GOOGLE_APPLICATION_CREDENTIALS="path/to/credentials.json"

# Anthropic API Key (optional)
export ANTHROPIC_API_KEY="your-anthropic-api-key"
```

## ğŸ® à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### 1. à¸£à¸±à¸™à¸£à¸°à¸šà¸šà¸šà¸¹à¸£à¸“à¸²à¸à¸²à¸£
```bash
# à¸£à¸±à¸™à¸£à¸°à¸šà¸šà¸«à¸¥à¸±à¸
python scripts/integrated_agent_system.py

# à¸£à¸±à¸™à¸£à¸°à¸šà¸š Multi-Agent Orchestration
python scripts/agent_orchestrator.py

# à¸—à¸”à¸ªà¸­à¸š workflow
python scripts/test_integration.py
```

### 2. à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

#### à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡
```python
from scripts.integrated_agent_system import IntegratedOrchestrator

# à¸ªà¸£à¹‰à¸²à¸‡ orchestrator
orchestrator = IntegratedOrchestrator()

# à¸ªà¸£à¹‰à¸²à¸‡ agent
agent = orchestrator.create_agent("analysis_agent", "analysis")

# à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡
result = await orchestrator.run_workflow(
    "Analyze this text for sentiment and structure",
    "analysis_agent"
)
```

#### à¸à¸²à¸£à¸„à¹‰à¸™à¸«à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
```python
# à¸„à¹‰à¸™à¸«à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸”à¹‰à¸§à¸¢ Perplexity AI
result = await orchestrator.run_workflow(
    "Search for latest AI news",
    "tools_agent"
)
```

#### à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¹‰à¸”
```python
# à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¹‰à¸”à¸”à¹‰à¸§à¸¢ AI
result = await orchestrator.run_workflow(
    "Generate Python code for a calculator",
    "tools_agent"
)
```

## ğŸ”§ à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²

### 1. GenAI Toolbox Configuration
```yaml
# tools.yaml
sources:
  my-database:
    kind: postgres
    host: localhost
    port: 5432
    database: mydb
    user: myuser
    password: mypassword

tools:
  query-data:
    kind: postgres-sql
    source: my-database
    description: Query data from database
    parameters:
      - name: query
        type: string
        description: SQL query
```

### 2. Perplexity AI Configuration
```python
# config.py
PERPLEXITY_CONFIG = {
    "model": "sonar-small-online",
    "temperature": 0.7,
    "max_tokens": 1024,
    "focus": "web"
}
```

### 3. Agent Configuration
```json
{
  "agents": {
    "tools_agent": {
      "type": "tools",
      "model": "claude-3-5-sonnet-20241022",
      "temperature": 0.7,
      "capabilities": ["text_analysis", "code_generation", "web_search"]
    },
    "analysis_agent": {
      "type": "analysis",
      "model": "sonar-small-online",
      "temperature": 0.3,
      "capabilities": ["data_analysis", "reasoning"]
    }
  }
}
```

## ğŸ“Š à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸²à¸¡à¹à¸¥à¸°à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ

### 1. System Status
```python
# à¸”à¸¹à¸ªà¸–à¸²à¸™à¸°à¸£à¸°à¸šà¸š
status = orchestrator.get_system_status()
print(f"Total Agents: {status['total_agents']}")
print(f"Available Tools: {status['available_tools']}")
print(f"GenAI Toolbox: {status['genai_toolbox_available']}")
print(f"Perplexity AI: {status['perplexity_ai_available']}")
```

### 2. Workflow History
```python
# à¸”à¸¹à¸›à¸£à¸°à¸§à¸±à¸•à¸´ workflow
history = orchestrator.workflow_history
for entry in history:
    print(f"Agent: {entry['agent_id']}")
    print(f"Results: {len(entry['results'])} tools executed")
```

### 3. Performance Metrics
```python
# à¸”à¸¹à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸
metrics = {
    "total_workflows": len(orchestrator.workflow_history),
    "success_rate": calculate_success_rate(),
    "avg_response_time": calculate_avg_response_time(),
    "tool_usage": get_tool_usage_stats()
}
```

## ğŸ” à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š

### 1. Unit Tests
```bash
# à¸£à¸±à¸™ unit tests
pytest tests/unit/

# à¸£à¸±à¸™ integration tests
pytest tests/integration/

# à¸£à¸±à¸™ all tests
pytest tests/
```

### 2. Performance Tests
```bash
# à¸—à¸”à¸ªà¸­à¸šà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸
python scripts/performance_test.py

# à¸—à¸”à¸ªà¸­à¸š load
python scripts/load_test.py
```

### 3. API Tests
```bash
# à¸—à¸”à¸ªà¸­à¸š API endpoints
python scripts/api_test.py
```

## ğŸ› ï¸ à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²

### 1. Adding New Tools
```python
# à¹€à¸à¸´à¹ˆà¸¡à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¹ƒà¸«à¸¡à¹ˆ
async def custom_tool(params: Dict[str, Any]) -> Dict[str, Any]:
    # Tool logic here
    return {"result": "success"}

# à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­
tool_config = ToolConfig(
    name="custom_tool",
    tool_type=ToolType.CUSTOM_TOOL,
    description="Custom tool description",
    config={"function": custom_tool}
)
orchestrator.tool_registry.register_tool(tool_config)
```

### 2. Adding New Agents
```python
# à¸ªà¸£à¹‰à¸²à¸‡ agent à¹ƒà¸«à¸¡à¹ˆ
class CustomAgent(EnhancedAgent):
    async def process(self, message: Dict[str, Any]) -> Dict[str, Any]:
        # Custom processing logic
        return {"result": "processed"}

# à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™ agent
custom_agent = CustomAgent("custom_agent", "custom")
orchestrator.agents["custom_agent"] = custom_agent
```

### 3. Extending Workflows
```python
# à¸‚à¸¢à¸²à¸¢ workflow
async def custom_workflow(orchestrator, input_data):
    # Custom workflow logic
    result1 = await orchestrator.run_workflow(input_data, "agent1")
    result2 = await orchestrator.run_workflow(result1, "agent2")
    return result2
```

## ğŸ“ˆ à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸

### 1. Caching
```python
# à¹ƒà¸Šà¹‰ Redis à¸ªà¸³à¸«à¸£à¸±à¸š caching
import redis

redis_client = redis.Redis(host='localhost', port=6379, db=0)

# Cache results
def cache_result(key: str, value: Any, ttl: int = 3600):
    redis_client.setex(key, ttl, json.dumps(value))
```

### 2. Async Processing
```python
# à¹ƒà¸Šà¹‰ async/await à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¹à¸šà¸š concurrent
async def process_multiple_tasks(tasks: List[str]):
    results = await asyncio.gather(*[
        orchestrator.run_workflow(task) for task in tasks
    ])
    return results
```

### 3. Load Balancing
```python
# à¸à¸£à¸°à¸ˆà¸²à¸¢à¹‚à¸«à¸¥à¸”à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ agents
def select_agent(workload: str) -> str:
    agent_loads = get_agent_loads()
    return min(agent_loads, key=agent_loads.get)
```

## ğŸ”’ à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢

### 1. API Key Management
```python
# à¹ƒà¸Šà¹‰ environment variables
import os
from dotenv import load_dotenv

load_dotenv()
api_key = os.getenv('PERPLEXITY_API_KEY')
```

### 2. Input Validation
```python
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š input
from pydantic import BaseModel, validator

class WorkflowInput(BaseModel):
    content: str
    tools: List[str] = []
    
    @validator('content')
    def validate_content(cls, v):
        if len(v) > 10000:
            raise ValueError('Content too long')
        return v
```

### 3. Rate Limiting
```python
# à¸ˆà¸³à¸à¸±à¸”à¸­à¸±à¸•à¸£à¸²à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸ API
import asyncio
from asyncio import Semaphore

semaphore = Semaphore(10)  # Max 10 concurrent requests

async def rate_limited_request(func, *args):
    async with semaphore:
        return await func(*args)
```

## ğŸš¨ à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²

### 1. Common Issues

#### GenAI Toolbox Connection Error
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š server
curl http://localhost:8080/health

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š configuration
cat tools.yaml
```

#### Perplexity AI API Error
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š API key
echo $PERPLEXITY_API_KEY

# à¸—à¸”à¸ªà¸­à¸š API
curl -H "Authorization: Bearer $PERPLEXITY_API_KEY" \
     https://api.perplexity.ai/chat/completions
```

#### Agent Processing Error
```python
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š agent status
status = orchestrator.get_system_status()
print(f"Agent count: {status['total_agents']}")

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š tool availability
tools = orchestrator.tool_registry.list_tools()
print(f"Available tools: {tools}")
```

### 2. Debug Mode
```python
# à¹€à¸›à¸´à¸” debug mode
import logging
logging.basicConfig(level=logging.DEBUG)

# à¸”à¸¹ detailed logs
logger.debug("Detailed debug information")
```

## ğŸ“š à¹€à¸­à¸à¸ªà¸²à¸£à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡

### External Links
- [Google GenAI Toolbox Documentation](https://googleapis.github.io/genai-toolbox/)
- [Perplexity AI API Documentation](https://docs.perplexity.ai/)
- [MCP Protocol Documentation](https://modelcontextprotocol.io/)

### Internal Documentation
- [Agent Orchestrator Guide](AGENT_ORCHESTRATOR.md)
- [Tool Integration Guide](TOOL_INTEGRATION.md)
- [Workflow Management Guide](WORKFLOW_MANAGEMENT.md)

## ğŸ¤ à¸à¸²à¸£à¸¡à¸µà¸ªà¹ˆà¸§à¸™à¸£à¹ˆà¸§à¸¡

### 1. Reporting Issues
- à¹ƒà¸Šà¹‰ GitHub Issues à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸²à¸¢à¸‡à¸²à¸™à¸›à¸±à¸à¸«à¸²
- à¹ƒà¸«à¹‰à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸„à¸£à¸šà¸–à¹‰à¸§à¸™: error messages, logs, steps to reproduce

### 2. Contributing Code
- Fork repository
- à¸ªà¸£à¹‰à¸²à¸‡ feature branch
- à¹€à¸‚à¸µà¸¢à¸™ tests
- Submit pull request

### 3. Code Style
```bash
# à¹ƒà¸Šà¹‰ black à¸ªà¸³à¸«à¸£à¸±à¸š formatting
black scripts/

# à¹ƒà¸Šà¹‰ flake8 à¸ªà¸³à¸«à¸£à¸±à¸š linting
flake8 scripts/
```

## ğŸ“„ License

MIT License - à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¹ƒà¸™ [LICENSE](LICENSE) file

## ğŸ™ Acknowledgments

- Google GenAI Toolbox team à¸ªà¸³à¸«à¸£à¸±à¸š MCP server
- Perplexity AI team à¸ªà¸³à¸«à¸£à¸±à¸š Sonar models
- Claude team à¸ªà¸³à¸«à¸£à¸±à¸š AI assistance
- Community contributors à¸ªà¸³à¸«à¸£à¸±à¸š feedback à¹à¸¥à¸° improvements

---

**ğŸ‰ à¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ Integrated Agent System!**

à¸«à¸²à¸à¸¡à¸µà¸„à¸³à¸–à¸²à¸¡à¸«à¸£à¸·à¸­à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸„à¸§à¸²à¸¡à¸Šà¹ˆà¸§à¸¢à¹€à¸«à¸¥à¸·à¸­ à¸à¸£à¸¸à¸“à¸²à¸•à¸´à¸”à¸•à¹ˆà¸­à¸œà¹ˆà¸²à¸™ GitHub Issues à¸«à¸£à¸·à¸­ Discord community
